@page "/reports/customeritems"

<PageTitle>Customer Products Report</PageTitle>
<br />
<MudCard Elevation="10">
    <EditForm Model="CustomerItemListReport" OnValidSubmit="LoadReport">
        <DataAnnotationsValidator />
        <MudGrid>
            <MudItem xs="4">
                <MudCardHeader>
                    <CardHeaderContent>
                        <MudText Typo="Typo.h6">Customer Products Report</MudText>
                    </CardHeaderContent>
                </MudCardHeader>
                <MudCardContent>
                    <MudTextField Required="true" @bind-Value="CustomerItemListReport.ItemNumberFrom" For="@(() => CustomerItemListReport.ItemNumberFrom)" Label="Product Number From"
                                  RequiredError="required!" Variant="Variant.Text" Margin="Margin.Normal" Immediate="true" InputType="InputType.Number"></MudTextField>

                    <MudTextField Required="true" @bind-Value="CustomerItemListReport.ItemNumberTo" For="@(() => CustomerItemListReport.ItemNumberTo)" Label="Product Number To"
                                  RequiredError="required!" Variant="Variant.Text" Margin="Margin.Normal" Immediate="true" InputType="InputType.Number"></MudTextField>
                    <br />
                    <MudButton Variant="Variant.Filled" Color="Color.Success" ButtonType='ButtonType.Submit'>Search</MudButton>
                </MudCardContent>
            </MudItem>
        </MudGrid>
    </EditForm>
</MudCard>
<br />
<br />
<MudTable Elevation="10" Items="@CustomerItemListReport.Customers" Hover="true" Breakpoint="Breakpoint.Sm" LoadingProgressColor="Color.Info">
    <HeaderContent>
        <MudTh>Customer Number</MudTh>
        <MudTh>Product Number</MudTh>
        <MudTh>Description</MudTh>
        <MudTh>Price</MudTh>
        <MudTh>Quantity</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="Id">@context.Customer.CustomerNumber</MudTd>
        <MudTd DataLabel="Name">@context.Item.ItemNumber</MudTd>
        <MudTd DataLabel="Description">@context.Item.Description</MudTd>
        <MudTd DataLabel="Price">@context.Price.ToFormattedPrice()</MudTd>
        <MudTd DataLabel="Quantity">@context.Quantity</MudTd>
    </RowTemplate>
    <PagerContent>
        <MudTablePager />
    </PagerContent>
</MudTable>